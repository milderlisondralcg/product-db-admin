function sub(){console.log("submitted")}function edit_product(t){window.location="edit.php?id="+t}function loadProducts(t){product_data=[],$.getJSON("assets/json/products.json",function(a){for(var l=0;l<a[t].length;l++)product_data.push({name:"<a onclick=\"edit_product('"+a[t][l]+"')\">"+a[t][l]+"</a>"})})}function show_products(){$("#"+product_table).DataTable({processing:!0,stateSave:!0,keys:!0,select:!0,destroy:!0,bFilter:!0,aaData:product_data,aoColumns:[{data:"name",sTitle:"<th>Product Name</th>"}],ordering:!1,pageLength:100}),jQuery(".dataTable").wrap('<div class="dataTables_scroll" />')}function get_products(t){t.indexOf("components")>=0?(product_category="components",product_table="all_components_table",template_data=all_components,html_class="all_components"):t.indexOf("lasers")>=0?(product_category="lasers",product_table="all_lasers_table",template_data=all_lasers,html_class="all_lasers"):t.indexOf("lmc")>=0?(product_category="lmc",product_table="all_lmc_table",template_data=all_lmc,html_class="all_lmc"):t.indexOf("tools-systems")>=0&&(product_category="tools_systems",product_table="all_tools_systems_table",template_data=all_tools_systems,html_class="all_tools"),product_data=[],$.getJSON("/api/?action=get-admin-products-category",{category:product_category},function(t){$.each(t,function(t,a){product_data.push({name:"<a onclick=\"edit_product('"+a.ID+"')\">"+a.Name+"</a>"})}),$.ajax({url:"/system/expressionengine/third_party/product_db_admin/views/products_template.php",type:"POST",dataType:"text",data:{templates:JSON.stringify(template_data)},success:function(t){$("."+html_class).html(t),show_products()},error:function(){alert("error")}})})}var products,all_components=["Components","all_components_table"],all_lasers=["Lasers","all_lasers_table"],all_lmc=["Laser Measurement","all_lmc_table"],all_tools_systems=["Tools & Systems","all_tools_systems_table"],product_data=[],product_names=[{data:"name",sTitle:"<th>Product Name</th>"}],product_category="",product_table="";$(".all-components-tab").click(function(){products=all_components[1],loadProducts(all_components[0]),$.ajax({url:"products_template.php",type:"POST",dataType:"text",data:{templates:JSON.stringify(all_components)},success:function(t){$(".all_components").html(t),show_products()},error:function(){alert("error")}})}),$(".all-lasers-tab").click(function(){products=all_lasers[1],loadProductsv2(all_lasers[0]),$.ajax({url:"products_template.php",type:"POST",dataType:"text",data:{templates:JSON.stringify(all_lasers)},success:function(t){$(".all_lasers").html(t),show_products()},error:function(){alert("error")}})}),$(".all-lmc-tab").click(function(){products=all_lmc[1],loadProducts(all_lmc[0]),$.ajax({url:"products_template.php",type:"POST",dataType:"text",data:{templates:JSON.stringify(all_lmc)},success:function(t){$(".all_lmc").html(t),show_products()},error:function(){alert("error")}})}),$(".all-tools-systems-tab").click(function(){products=all_tools_systems[1],loadProducts(all_tools_systems[0]),$.ajax({url:"products_template.php",type:"POST",dataType:"text",data:{templates:JSON.stringify(all_tools_systems)},success:function(t){$(".all_tools").html(t),show_products()},error:function(){alert("error")}})});